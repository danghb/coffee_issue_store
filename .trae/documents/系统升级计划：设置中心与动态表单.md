# 系统升级计划：设置中心与动态表单

您提出的建议非常切中痛点！目前的系统虽然稳定，但灵活性不足。为了适应业务变化（如新机型、新问题项），我们需要将系统从“硬编码”升级为“可配置”。

我制定了以下升级计划，将系统分为**前台业务**和**后台设置**两部分：

## 1. ⚙️ 新增“设置中心” (Settings Center)
创建一个专门的设置页面，包含两个核心模块：

### 1.1 机型管理 (Device Models)
*   **功能**：不再依赖数据库预置，您可以直接在页面上**添加、修改、删除**机型。
*   **价值**：新产品发布时，运营人员可立即配置，无需开发介入。

### 1.2 表单配置 (Form Builder) —— *响应您的“问卷”需求*
*   **功能**：实现一个轻量级的“表单设计器”。
    *   **自定义题目**：您可以添加新的问题项（如“安装环境”、“水源类型”）。
    *   **灵活类型**：支持配置为 **单行文本**、**单选 (Radio)**、**多选 (Checkbox)** 或 **下拉框 (Select)**。
    *   **选项管理**：对于选择题，您可以自定义选项内容（如“自来水, 纯净水, 桶装水”）。
    *   **必填控制**：设置该项是否必填。

## 2. 📝 动态表单引擎 (Dynamic Form Engine)

### 2.1 数据库升级
*   新增 `FormField` 表：存储您配置的题目结构。
*   升级 `Issue` 表：新增 `customData` (JSON) 字段，用于存储动态表单的答案。

### 2.2 前端改造
*   **提交页 (`SubmitIssue`)**：除了核心字段（标题、机型、SN）外，下方的调查区域将根据您的配置**动态渲染**。
*   **详情页 (`IssueDetail`)**：解析并展示动态收集到的数据。

---

## 🚀 执行步骤

1.  **数据库层**: 修改 Schema，添加 `FormField` 表及相关字段。
2.  **后端开发**:
    *   完善 `DeviceModel` 的增删改接口。
    *   新增 `FormField` 的配置接口 (CRUD)。
3.  **前端开发 - 设置页**: 开发 `SettingsPage`，包含机型管理和表单配置两个 Tab。
4.  **前端开发 - 动态渲染**: 改造提交页和详情页，支持自定义字段的显示与录入。

完成后，您将拥有一个既能管理机型，又能像“问卷星”一样随时调整问题项的灵活系统。
