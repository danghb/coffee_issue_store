# 下一步开发计划：问题处理与闭环

根据您的反馈，我们将**跳过鉴权功能**，专注于完善问题的**处理流程**（状态流转与沟通反馈），实现"反馈 -> 处理 -> 解决"的完整闭环。

## 1. 后端开发 (Backend)

### 1.1 状态管理与评论系统
我们将利用已有的 `Comment` 模型来记录沟通内容和状态变更历史。

*   **新增 API**:
    *   `POST /api/issues/:id/comments`: 添加评论/回复。
    *   `PATCH /api/issues/:id/status`: 更新问题状态 (如：PENDING -> IN_PROGRESS -> RESOLVED)。
        *   *特性*: 状态变更时，自动在 `Comment` 表中记录一条"系统消息"（记录 oldStatus -> newStatus），形成完整的审计轨迹。

### 1.2 逻辑完善
*   **Issue Service**: 增加 `updateStatus` 方法。
*   **Comment Service**: 实现评论创建逻辑。

## 2. 前端开发 (Frontend)

### 2.1 详情页升级 (Issue Detail)
在现有的详情页底部增加**处理面板**：

*   **时间轴/评论区**:
    *   按时间倒序显示所有动态。
    *   区分显示"用户留言"、"研发回复"和"状态变更记录"（如：❌ 待处理 -> 🔄 处理中）。
*   **操作区域**:
    *   **发表评论**: 简单的文本输入框，用于追加补充信息或回复。
    *   **更改状态**: 下拉菜单或按钮组，允许将问题标记为"处理中"、"已解决"或"关闭"。

## 3. 预期成果
完成上述开发后，您将能够：
1.  点击问题进入详情页。
2.  查看问题的处理历史。
3.  在页面上直接回复（模拟研发人员反馈）。
4.  点击按钮将问题状态改为"已解决"，并在列表中看到状态更新。
