# äº§å“é—®é¢˜æ”¶é›†ç³»ç»Ÿ (Product Issue Collector)

è¿™æ˜¯ä¸€ä¸ªç”¨äºæ”¶é›†å’Œç®¡ç†äº§å“é—®é¢˜çš„å…¨æ ˆç³»ç»Ÿã€‚åŒ…å«é—®é¢˜æäº¤ã€çŠ¶æ€è¿½è¸ªã€æœºå‹ç®¡ç†ã€ç»Ÿè®¡åˆ†æç­‰åŠŸèƒ½ã€‚
ç³»ç»ŸåŸºäº **React (Frontend)** + **Node.js/Fastify (Backend)** + **SQLite (Database)** æ„å»ºã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½

- **é—®é¢˜æäº¤**: æ”¯æŒå¯Œæ–‡æœ¬æè¿°ã€å¤šé™„ä»¶ä¸Šä¼ ã€å…³è”æœºå‹å’Œåˆ†ç±»ã€‚
- **çŠ¶æ€è¿½è¸ª**: é—®é¢˜å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç† (Pending -> In Progress -> Resolved -> Closed)ã€‚
- **ä»»åŠ¡ç®¡ç†**: é’ˆå¯¹å¤æ‚é—®é¢˜åˆ›å»ºå­ä»»åŠ¡ï¼Œåˆ†é…ç»™ä¸åŒå¼€å‘äººå‘˜ã€‚
- **åå°ç®¡ç†**:
  - **æœºå‹ç®¡ç†**: æ·»åŠ /ä¿®æ”¹/ç¦ç”¨è®¾å¤‡æœºå‹ã€‚
  - **åˆ†ç±»é…ç½®**: è‡ªå®šä¹‰é—®é¢˜åˆ†ç±»ã€‚
  - **ç”¨æˆ·ç®¡ç†**: è´¦æˆ·åˆ›å»ºã€è§’è‰²åˆ†é… (Admin/Developer/Support)ã€‚
- **ç»Ÿè®¡æŠ¥è¡¨**: æŸ¥çœ‹æŒ‰æœºå‹ã€åˆ†ç±»ã€æ—¶é—´çš„ç»Ÿè®¡æ•°æ®ã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ (Docker éƒ¨ç½²)

æ¨èä½¿ç”¨ Docker è¿›è¡Œä¸€é”®éƒ¨ç½²ï¼Œ**æ•°æ®å®‰å…¨ä¸”æ˜“äºå‡çº§**ã€‚

### å‰ç½®è¦æ±‚
- å®‰è£… [Docker Desktop](https://www.docker.com/products/docker-desktop)

### éƒ¨ç½²æ­¥éª¤

1. **å¯åŠ¨æœåŠ¡**
   åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œï¼š
   ```bash
   docker-compose up -d
   ```

2. **è®¿é—®ç³»ç»Ÿ**
   æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š[http://localhost](http://localhost)
   - å‰ç«¯é¡µé¢å’Œåç«¯ API å‡é€šè¿‡ **80 ç«¯å£** è®¿é—®ã€‚
   - é»˜è®¤ç®¡ç†å‘˜è´¦æˆ·:
     - ç”¨æˆ·å: `yfdz`
     - å¯†ç : `yfdz@2026`

3. **æ•°æ®æŒä¹…åŒ– & æ—¥å¿—**
   æ‰€æœ‰æ•°æ®éƒ½ä¿å­˜åœ¨å®¿ä¸»æœºçš„ `data/` ç›®å½•ä¸‹ï¼Œ**å‡çº§å®¹å™¨ä¸ä¼šä¸¢å¤±å·²å­˜æ•°æ®**ï¼š
   - `data/mysql/`: MySQL æ•°æ®åº“æ–‡ä»¶ (Port 3306)
   - `data/uploads/`: ä¸Šä¼ çš„é™„ä»¶æ–‡ä»¶
   - `data/logs/app.log`: **åç«¯è¿è¡Œæ—¥å¿—** (æ’é”™è¯·çœ‹è¿™é‡Œ)

### åœæ­¢/é‡å¯
```bash
docker-compose down       # åœæ­¢
docker-compose restart    # é‡å¯
```

---

## ğŸ› ï¸ æœ¬åœ°å¼€å‘ (æºç éƒ¨ç½²)

> **æ³¨æ„**: ç”±äºåˆ‡æ¢åˆ°äº† MySQLï¼Œæœ¬åœ°æºç è¿è¡Œéœ€è¦æ‚¨æœ¬åœ°å®‰è£… MySQL 8.0 æˆ–è€…ç›´æ¥è¿æ¥ Docker ä¸­çš„ MySQL (`localhost:3306`)ã€‚

å¦‚æœæ‚¨éœ€è¦ä¿®æ”¹ä»£ç æˆ–è¿›è¡ŒäºŒæ¬¡å¼€å‘ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œã€‚

### 0. å‡†å¤‡æ•°æ®åº“ (æ¨è)
å¯åŠ¨ Docker ä¸­çš„ MySQL ä¾›æœ¬åœ°å¼€å‘ä½¿ç”¨ï¼š
```bash
docker-compose up -d mysql
```

### 1. å¿«é€Ÿåˆå§‹åŒ–
```powershell
# Windows
.\deploy_project.bat
```
æ­¤è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- å®‰è£…ä¾èµ–
- ç”Ÿæˆ Prisma Client
- æ¨é€æ•°æ®åº“ç»“æ„ (åˆ°æœ¬åœ°æˆ– Docker MySQL)
- å†™å…¥é»˜è®¤æ•°æ®

### 2. å¯åŠ¨æœåŠ¡
æ‚¨éœ€è¦å¼€å¯ä¸¤ä¸ªç»ˆç«¯çª—å£åˆ†åˆ«å¯åŠ¨å‰åç«¯ï¼š

**åç«¯ (Port 3000):**
```bash
cd backend
npm run dev
```

**å‰ç«¯ (Port 5173):**
```bash
cd frontend
npm run dev
```

### 3. é‡ç½®ç¯å¢ƒ (æµ‹è¯•ç”¨)
å¦‚æœæ‚¨æƒ³æ¸…ç©ºæ‰€æœ‰æ•°æ®ï¼ˆç”¨æˆ·ã€é—®é¢˜è®°å½•ï¼‰å¹¶æ¢å¤åˆ°åˆå§‹çŠ¶æ€ï¼š
```powershell
.\reset_db_clean.bat
```
> âš ï¸ **æ³¨æ„**: è¿™å°†æ°¸ä¹…åˆ é™¤æ•°æ®åº“ä¸­çš„æ‰€æœ‰ä¸šåŠ¡æ•°æ®ï¼

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ backend/                # åç«¯ä»£ç  (Fastify + Prisma)
â”‚   â”œâ”€â”€ prisma/             # æ•°æ®åº“æ¨¡å‹ (schema.prisma)
â”‚   â”œâ”€â”€ src/                # æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ routes/         # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ services/       # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ uploads/            # (å¼€å‘æ¨¡å¼) æœ¬åœ°ä¸Šä¼ ç›®å½•
â”œâ”€â”€ frontend/               # å‰ç«¯ä»£ç  (React + Vite)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/          # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ components/     # é€šç”¨ç»„ä»¶
â”‚   â”‚   â””â”€â”€ services/       # API è¯·æ±‚å°è£…
â”œâ”€â”€ docker/                 # Docker é…ç½®æ–‡ä»¶
â”œâ”€â”€ data/                   # (Dockeræ¨¡å¼) æŒä¹…åŒ–æ•°æ®ç›®å½•
â””â”€â”€ ...
```

## ğŸ” é»˜è®¤è´¦å·

- **ç”¨æˆ·å**: `yfdz`
- **å¯†ç **: `yfdz@2026`
- **æƒé™**: è¶…çº§ç®¡ç†å‘˜ (Admin)

---

## â“ å¸¸è§é—®é¢˜

**Q: å¦‚ä½•ä¿®æ”¹ç«¯å£ï¼Ÿ**
A: ç¼–è¾‘ `docker-compose.yml`ï¼Œä¿®æ”¹ `ports` æ˜ å°„ï¼Œä¾‹å¦‚ `8080:80`ã€‚

**Q: æ•°æ®åº“æ–‡ä»¶åœ¨å“ªé‡Œï¼Ÿ**
A: Docker æ¨¡å¼ä¸‹åœ¨æ ¹ç›®å½• `data/db/dev.db`ã€‚æœ¬åœ°å¼€å‘æ¨¡å¼ä¸‹åœ¨ `backend/prisma/dev.db`ã€‚

**Q: é™„ä»¶ä¸Šä¼ å¤§å°é™åˆ¶ï¼Ÿ**
A: é»˜è®¤é…ç½®é™åˆ¶ä¸º 1GBã€‚å¯åœ¨ `docker/nginx.conf` å’Œ `backend/src/app.ts` ä¸­è°ƒæ•´ã€‚
